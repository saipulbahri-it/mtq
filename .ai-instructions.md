# AI Instructions - MTQ Project

## Core Behaviors

### 1. Prompt Clarification & Correction
**MANDATORY**: Clarify dan perbaiki prompt sebelum execution

**Behavior**:
- Jika prompt singkat/typo/tidak jelas: Tanyakan clarification
- Suggest corrected/expanded version dari prompt
- Wait for user confirmation sebelum proceed
- Only use confirmed/corrected prompt untuk execution dan history

**Example**:
```
User: "rubha penamaan riwayat.md bendasarkan tanggal dan sesi"

AI Response:
üîç PROMPT CLARIFICATION NEEDED

Original: "rubha penamaan riwayat.md bendasarkan tanggal dan sesi"

Suggested correction: "Rubah penamaan file riwayat.md berdasarkan tanggal dan sesi"

Is this what you meant? Please confirm or provide clarification.
- Type 'yes' to proceed with suggested correction
- Type 'edit: [corrected prompt]' to provide your version
- Type 'original' to proceed with original prompt as-is
```

### 2. Auto-History Documentation
**MANDATORY**: Selalu simpan riwayat setiap sesi ke `memories/histories/`

**Format**: `YYYY-MM-DD_chat-session-[topic].md`

**Requirements**:
- Tulis riwayat di akhir setiap sesi atau saat ada perubahan significant
- Include ONLY confirmed/corrected prompts dalam chat log
- Document semua files created/modified/deleted
- Record commands executed dan reasoning
- Note impact dan future considerations

**Template Location**: `memories/_template.md`

### 3. Git Command Protection
**MANDATORY**: Confirmation required untuk git commands

**Protected Commands**:
- `git commit`
- `git push`
- `git merge`
- `git rebase`
- `git reset --hard`
- `git force-push`

**Behavior for Commit Commands**:
```
‚ö†Ô∏è  GIT COMMIT DETECTED ‚ö†Ô∏è
Proposed commit message: "feat: add new feature"

Files to be committed:
- index.html (modified)
- css/style.css (new)
- js/script.js (modified)

Changes summary:
- Added new navigation feature
- Updated styling for responsive design
- Fixed JavaScript countdown bug

Confirm commit message and proceed? (y/N)
Type 'edit' to modify commit message, or 'no' to cancel.
```

**Behavior for Other Commands**:
```
‚ö†Ô∏è  GIT COMMAND DETECTED ‚ö†Ô∏è
Command: git push origin main
Impact: Will push changes to remote repository

Files to be affected:
- file1.js (modified)
- file2.css (new)

Do you want to proceed? (y/N)
```

**Exception**: Read-only git commands are allowed:
- `git status`
- `git log`
- `git diff`
- `git branch`

### 4. Credit Attribution
**MANDATORY**: Replace all credit references

**From**: Any existing credits (Claude, Anthropic, etc.)
**To**: `saifcode`

**Locations to Update**:
- HTML comments
- Footer credits
- Meta tags
- Documentation signatures
- Script headers
- Any attribution text

**Format Examples**:
```html
<!-- Generated by saifcode -->
<meta name="author" content="saifcode">
<footer>¬© 2025 saifcode</footer>
```

```javascript
/**
 * Created by saifcode
 */
```

```markdown
---
*Developed by saifcode*
```

## Workflow Rules

### Development Process
1. **Before any work**: Check for existing history in `memories/histories/`
2. **During work**: Track all changes for history documentation
3. **Before git commands**: Show confirmation dialog
4. **After significant changes**: Create history entry
5. **End of session**: Always create comprehensive history

### File Organization
- **Dev files**: Keep in root for development
- **Production files**: Maintain in `html/` for deployment
- **Documentation**: Update relevant `dev-guide/` files
- **History**: Auto-create in `memories/histories/`

### Error Prevention
- **Never** commit without confirmation
- **Never** push without user approval
- **Always** backup before destructive operations
- **Always** verify file paths before operations

## Session Management

### Start of Session
1. Check `memories/histories/` for recent context
2. Review last session's notes and todos
3. Understand current project state

### During Session
1. Track all changes in memory for history
2. Ask confirmation for git operations
3. Update documentation as needed
4. Note any issues or decisions made

### End of Session
1. **MANDATORY**: Create history file in `memories/histories/`
2. Update any relevant documentation
3. Note next steps or priorities
4. Verify all credits show "saifcode"

## Safety Protocols

### Before Git Operations
```
STOP: Git command detected
- Show exact command
- List affected files
- Explain impact
- Require explicit confirmation
- Provide safe alternatives if destructive
```

### Before File Deletion
```
STOP: Destructive operation detected
- List files to be deleted
- Check if files are tracked in git
- Suggest backup options
- Require explicit confirmation
```

### Credit Verification
- Scan for existing credits before any file modifications
- Replace any non-saifcode credits automatically
- Notify if credits are updated

## Documentation Standards

### History Files
- Use clear, descriptive titles
- Include complete chat context
- Document technical decisions and reasoning
- List all files and commands
- Note future implications

### Code Comments
- Use "saifcode" in all new code headers
- Maintain consistent comment style
- Document complex logic
- Include modification dates

### Git Commit Messages
- Use conventional commit format
- Include clear description
- Reference any documentation updates
- Always mention if credits were updated

## Response Format

### For Prompt Clarification
```
üîç PROMPT CLARIFICATION NEEDED

Original: "[original user prompt]"

Issues detected:
- [Specific issue 1, e.g., typo, unclear meaning]
- [Specific issue 2, e.g., missing context]

Suggested correction: "[corrected/expanded prompt]"

Please confirm:
- Type 'yes' to proceed with suggested correction
- Type 'edit: [your corrected version]' to provide your own version
- Type 'original' to proceed with original prompt as-is
```

### For Git Commit Commands
```
‚ö†Ô∏è  GIT COMMIT CONFIRMATION REQUIRED ‚ö†Ô∏è

Proposed commit message: "[commit message]"
Branch: [current branch]

Files to be committed:
- file1.html (modified) - [brief description of changes]
- file2.css (new) - [brief description]
- file3.js (modified) - [brief description of changes]

Changes summary:
- [Summary of what was changed]
- [Key features added/fixed]
- [Any important notes]

Options:
- Type 'yes' to proceed with commit
- Type 'edit: [new message]' to change commit message
- Type 'no' to cancel commit

Confirm? (yes/edit/no):
```

### For Other Git Commands
```
‚ö†Ô∏è  GIT COMMAND CONFIRMATION REQUIRED ‚ö†Ô∏è

Command: [exact command]
Branch: [current branch]
Files affected: [list of files]
Impact: [description of what will happen]

Continue? Type 'yes' to proceed or 'no' to cancel.
```

### For Credit Updates
```
üîÑ CREDIT UPDATE

Updated credits to "saifcode" in:
- file1.html (footer)
- script.js (header comment)
- README.md (author section)
```

### For History Creation
```
üìù SESSION HISTORY

Created: memories/histories/YYYY-MM-DD_chat-session-[topic].md
Content: [brief summary of what was documented]
```

## Emergency Procedures

### If History Fails to Save
1. Attempt alternative location
2. Create simple text backup
3. Notify user of issue
4. Provide manual backup instructions

### If Git Confirmation Bypassed
1. Immediately stop execution
2. Show what would have happened
3. Require explicit user override
4. Log the incident in history

### If Credits Not Updated
1. Scan all modified files
2. Update any missed credits
3. Report what was changed
4. Verify in next operation

---

**Implementation Priority**: 
1. Prompt clarification & correction (CRITICAL)
2. Git command protection (CRITICAL)
3. Auto-history creation (HIGH)
4. Credit replacement (HIGH)
5. Documentation standards (MEDIUM)